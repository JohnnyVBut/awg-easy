# üêõ –ù–∞–π–¥–µ–Ω–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–∞—Ä–æ–ª–µ–º!

## –ü—Ä–æ–±–ª–µ–º–∞

–ö–æ–º–∞–Ω–¥–∞ `wgpw` –≤—ã–≤–æ–¥–∏—Ç **–Ω–µ —Ç–æ–ª—å–∫–æ —Ö–µ—à**, –∞ —Å—Ç—Ä–æ–∫—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
PASSWORD_HASH='$2y$12$...'
```

–ê –º—ã –ø—ã—Ç–∞–ª–∏—Å—å –∑–∞—Ö–≤–∞—Ç–∏—Ç—å —ç—Ç–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –Ω–∞–ø—Ä—è–º—É—é:
```bash
PASSWORD_HASH=$(docker run --rm awg-easy:2.0 wgpw 'password')
```

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `PASSWORD_HASH` —Å–æ–¥–µ—Ä–∂–∞–ª–∞:
```
PASSWORD_HASH='$2y$12$...'
```

–í–º–µ—Å—Ç–æ:
```
$2y$12$...
```

## –†–µ—à–µ–Ω–∏–µ

–ù—É–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å –≤—ã–≤–æ–¥ –∏ –∏–∑–≤–ª–µ–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ö–µ—à:

```bash
# ‚ùå –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
PASSWORD_HASH=$(docker run --rm awg-easy:2.0 wgpw 'password')

# ‚úÖ –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
WGPW_OUTPUT=$(docker run --rm awg-easy:2.0 wgpw 'password')
PASSWORD_HASH=$(echo "$WGPW_OUTPUT" | grep -oP "PASSWORD_HASH='\K[^']+")
```

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. run.sh
```bash
# –ù–æ–≤—ã–π –∫–æ–¥ —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º
WGPW_OUTPUT=$(docker run --rm awg-easy:2.0 wgpw "$WEB_PASSWORD")
PASSWORD_HASH=$(echo "$WGPW_OUTPUT" | grep -oP "PASSWORD_HASH='\K[^']+")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Ö–µ—à –ø–æ–ª—É—á–µ–Ω
if [ -z "$PASSWORD_HASH" ]; then
    echo "Failed to generate password hash!"
    exit 1
fi
```

### 2. generate-password.sh
```bash
# –¢–æ—Ç –∂–µ –ø–∞—Ä—Å–∏–Ω–≥
WGPW_OUTPUT=$(docker run --rm awg-easy:2.0 wgpw "$PASSWORD")
HASH=$(echo "$WGPW_OUTPUT" | grep -oP "PASSWORD_HASH='\K[^']+")
```

### 3. –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- README_AWG2.md
- PASSWORD_FIX.md
- PASSWORD_QUICK_FIX.md

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ö–æ–º–∞–Ω–¥–∞ grep:**
```bash
grep -oP "PASSWORD_HASH='\K[^']+"
```

–†–∞–∑–±–æ—Ä:
- `-o` - –≤—ã–≤–µ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
- `-P` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Perl regex
- `PASSWORD_HASH='` - –Ω–∞–π—Ç–∏ —ç—Ç—É —Å—Ç—Ä–æ–∫—É
- `\K` - —Å–±—Ä–æ—Å–∏—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (–Ω–µ –≤–∫–ª—é—á–∞—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
- `[^']+` - –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –≤—Å—ë –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –æ–¥–∏–Ω–∞—Ä–Ω–æ–π –∫–∞–≤—ã—á–∫–∏

**–ü—Ä–∏–º–µ—Ä:**
```bash
echo "PASSWORD_HASH='$2y$12$abc123'" | grep -oP "PASSWORD_HASH='\K[^']+"
# –í—ã–≤–æ–¥: $2y$12$abc123
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# 1. –°–±–æ—Ä–∫–∞
./build.sh

# 2. –ó–∞–ø—É—Å–∫
./run.sh
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: test123

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Ö–µ—à –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
docker exec awg-easy printenv PASSWORD_HASH
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: $2y$12$... (—Ç–æ–ª—å–∫–æ —Ö–µ—à, –±–µ–∑ PASSWORD_HASH=)

# 4. –í—Ö–æ–¥ –≤ Web UI
# http://your-ip:51821
# –ü–∞—Ä–æ–ª—å: test123
```

## –ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ

–ï—Å–ª–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `PASSWORD_HASH` —Ö—Ä–∞–Ω–∏—Ç—Å—è:
```
PASSWORD_HASH='$2y$12$...'
```

–¢–æ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è —Å—Ä–∞–≤–Ω–∏—Ç—å:
- –í–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `test123`
- –° —Ö–µ—à–µ–º: `PASSWORD_HASH='$2y$12$...'` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç!)

Bcrypt –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç `PASSWORD_HASH='...'` –∏ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç false.

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∞—Ä—Ö–∏–≤–µ

–ê—Ä—Ö–∏–≤ `awg-easy-2.0-package.tar.gz` –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω:
- ‚úÖ run.sh –ø–∞—Ä—Å–∏—Ç –≤—ã–≤–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ generate-password.sh –ø–∞—Ä—Å–∏—Ç –≤—ã–≤–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ–π —Ö–µ—à

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ:
```bash
./build.sh
./run.sh
```

–ü–∞—Ä–æ–ª—å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ

## –ó–∞–º–µ—Ç–∫–∞ –æ –≤–µ—Ä—Å–∏–∏ bcrypt

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ —á—Ç–æ —Ö–µ—à–∏ —Ç–µ–ø–µ—Ä—å –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `$2y$12$` –≤–º–µ—Å—Ç–æ `$2y$05$`:
- `05` - —Å—Ç–∞—Ä—ã–π cost factor (–±—ã—Å—Ç—Ä–µ–µ, –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ)
- `12` - –Ω–æ–≤—ã–π cost factor (–º–µ–¥–ª–µ–Ω–Ω–µ–µ, –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ)

–≠—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –∫–æ–¥–µ `wgpw.mjs` (—Å—Ç—Ä–æ–∫–∞ 11):
```javascript
const salt = await bcrypt.genSalt(12); // –±—ã–ª–æ –±—ã genSalt(5) –¥–ª—è cost=05
```

Cost factor 12 - —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –Ω–∞ 2025 –≥–æ–¥.
