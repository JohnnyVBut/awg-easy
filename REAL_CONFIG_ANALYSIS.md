# üîç –ê–Ω–∞–ª–∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ AWG 2.0 –∫–æ–Ω—Ñ–∏–≥–∞

## –ò—Å—Ç–æ—á–Ω–∏–∫

–†–µ–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ AmneziaWG 2.0 –∏–∑ –∂–∏–≤–æ–≥–æ –¥–µ–ø–ª–æ—è.

---

## üìä –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```ini
[Interface]
Address = 10.8.1.2/32
DNS = 1.1.1.1, 1.0.0.1
PrivateKey = 3U09DdKK3kfe*****U7wysAx38PxO69HEicM=
Jc = 6
Jmin = 10
Jmax = 50
S1 = 64
S2 = 67
S3 = 17
S4 = 4
H1 = 221138202-537563446
H2 = 1824677785-1918284606
H3 = 2058490965-2098228430
H4 = 2114920036-2134209753
I1 = <b 0x084481800001000300000000077469636b65747306776964676574096b696e6f706f69736b0272750000010001c00c0005000100000039001806776964676574077469636b6574730679616e646578c025c0390005000100000039002b1765787465726e616c2d7469636b6574732d776964676574066166697368610679616e646578036e657400c05d000100010000001c000457fafe25>
I2 = 
I3 = 
I4 = 
I5 = 

[Peer]
PublicKey = VPRcvkYpjloT****w/fKQfUWaZSOATcp6TM=
PresharedKey = YQCgbJ8bE1ZB****+76U8gsWsJdmqR6jubc0=
AllowedIPs = 0.0.0.0/0, ::/0
Endpoint = 88.x.x.68:47646
PersistentKeepalive = 25
```

---

## üî¨ –ê–Ω–∞–ª–∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### Junk Packet Parameters

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –Ω–∞—à–∏–º–∏ –¥–µ—Ñ–æ–ª—Ç–∞–º–∏ |
|----------|----------|-------------------------------|
| **Jc** | 6 | –ë—ã–ª–æ: 5 ‚Üí **–û–±–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ 6** |
| **Jmin** | 10 | –ë—ã–ª–æ: 9 ‚Üí **–û–±–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ 10** |
| **Jmax** | 50 | –ë—ã–ª–æ: 47 ‚Üí **–û–±–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ 50** |

**–í—ã–≤–æ–¥—ã:**
- –ë–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä junk –ø–∞–∫–µ—Ç–æ–≤ (10-50 –ø—Ä–æ—Ç–∏–≤ 9-47)
- –ß—É—Ç—å –±–æ–ª—å—à–µ junk –ø–∞–∫–µ—Ç–æ–≤ (6 –≤–º–µ—Å—Ç–æ 5)

---

### S Parameters (Handshake Obfuscation)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –Ω–∞—à–∏–º–∏ –¥–µ—Ñ–æ–ª—Ç–∞–º–∏ |
|----------|----------|-------------------------------|
| **S1** | 64 | –ë—ã–ª–æ: 9 ‚Üí **–û–±–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ 64** |
| **S2** | 67 | –ë—ã–ª–æ: 128 ‚Üí **–û–±–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ 67** |
| **S3** | 17 | –ë—ã–ª–æ: 5 ‚Üí **–û–±–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ 17** |
| **S4** | 4 | –ë—ã–ª–æ: 16 ‚Üí **–û–±–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ 4** |

**–í—ã–≤–æ–¥—ã:**
- **–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è!**
- S1 —É–≤–µ–ª–∏—á–µ–Ω —Å 9 –¥–æ 64 (–≤ 7 —Ä–∞–∑)
- S2 —É–º–µ–Ω—å—à–µ–Ω —Å 128 –¥–æ 67 (–ø–æ—á—Ç–∏ –≤–¥–≤–æ–µ)
- S3 —É–≤–µ–ª–∏—á–µ–Ω —Å 5 –¥–æ 17 (–≤ 3.4 —Ä–∞–∑–∞)
- S4 —É–º–µ–Ω—å—à–µ–Ω —Å 16 –¥–æ 4 (–≤ 4 —Ä–∞–∑–∞)

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:**
- Init packet (S1) –ø–æ–ª—É—á–∞–µ—Ç –±–æ–ª—å—à–µ padding'–∞
- Response packet (S2) –ø–æ–ª—É—á–∞–µ—Ç –º–µ–Ω—å—à–µ
- Cookie reply (S3) —É–º–µ—Ä–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–µ–Ω
- Transport data (S4) –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏

---

### H Parameters (Magic Headers - Ranges)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–∏–∞–ø–∞–∑–æ–Ω | –®–∏—Ä–∏–Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ |
|----------|----------|------------------|
| **H1** | 221138202-537563446 | ~316 –º–ª–Ω |
| **H2** | 1824677785-1918284606 | ~93.6 –º–ª–Ω |
| **H3** | 2058490965-2098228430 | ~39.7 –º–ª–Ω |
| **H4** | 2114920036-2134209753 | ~19.3 –º–ª–Ω |

**–ù–∞–±–ª—é–¥–µ–Ω–∏—è:**

1. **–î–∏–∞–ø–∞–∑–æ–Ω—ã –Ω–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ**
   - H1: —Å–∞–º—ã–π —à–∏—Ä–æ–∫–∏–π (316M –∑–Ω–∞—á–µ–Ω–∏–π)
   - H2: —Å—Ä–µ–¥–Ω–∏–π (93.6M)
   - H3: —É–∑–∫–∏–π (39.7M)
   - H4: —Å–∞–º—ã–π —É–∑–∫–∏–π (19.3M)

2. **MIN –∑–Ω–∞—á–µ–Ω–∏—è —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è**
   - H1 –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 221M
   - H2 –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 1824M
   - H3 –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 2058M
   - H4 –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 2114M

3. **MAX –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏–±–ª–∏–∂–∞—é—Ç—Å—è –∫ uint32 –ª–∏–º–∏—Ç—É**
   - H4 –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 2134M (uint32 max = 4294M)

**–í—ã–≤–æ–¥—ã:**
- –î–∏–∞–ø–∞–∑–æ–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –ø–æ —à–∏—Ä–∏–Ω–µ
- –í–æ–∑–º–æ–∂–Ω–æ, —Ä–∞–∑–Ω—ã–µ H –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–∞–∫–µ—Ç–æ–≤
- –ë–æ–ª–µ–µ —É–∑–∫–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã = –º–µ–Ω—å—à–µ —Ä–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏–∏, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ

---

### I Parameters (Protocol Imitation)

**I1 —Å–æ–¥–µ—Ä–∂–∏—Ç DNS –ø–∞–∫–µ—Ç:**

```
<b 0x084481800001000300000000077469636b65747306776964676574096b696e6f706f69736b0272750000010001c00c0005000100000039001806776964676574077469636b6574730679616e646578c025c0390005000100000039002b1765787465726e616c2d7469636b6574732d776964676574066166697368610679616e646578036e657400c05d000100010000001c000457fafe25>
```

**–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ DNS –ø–∞–∫–µ—Ç–∞:**

Hex dump –∞–Ω–∞–ª–∏–∑:
```
0844 8180 0001 0003 0000 0000  # DNS Header
07 74696b6b657473             # "tickets"
06 776964676574               # "widget"
09 6b696e6f706f69736b         # "kinopoisk"
02 7275                        # "ru"
0000 0100 01                  # Type A, Class IN

... (CNAME records)
```

**–≠—Ç–æ DNS –∑–∞–ø—Ä–æ—Å –¥–ª—è:** `tickets.widget.kinopoisk.ru`

**–î–æ–º–µ–Ω –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç:** –Ø–Ω–¥–µ–∫—Å (kinopoisk.ru - —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –∫–∏–Ω–æ–ø–æ—Ä—Ç–∞–ª)

**–ü–æ—á–µ–º—É —ç—Ç–æ—Ç –¥–æ–º–µ–Ω?**
- –õ–µ–≥–∏—Ç–∏–º–Ω—ã–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å
- –ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- DNS –∑–∞–ø—Ä–æ—Å—ã –∫ –Ω–µ–º—É –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–π
- –û—Ç–ª–∏—á–Ω–∞—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è VPN —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ –†–æ—Å—Å–∏–∏

**I2-I5:**
- –í—Å–µ –ø—É—Å—Ç—ã–µ
- –í–æ–∑–º–æ–∂–Ω–æ, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

---

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –ë—ã–ª–æ vs –°—Ç–∞–ª–æ

### –î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–Ω–∞—à–∏ –¥–µ—Ñ–æ–ª—Ç—ã)

```ini
Jc = 5
Jmin = 9
Jmax = 47
S1 = 9
S2 = 128
S3 = 5
S4 = 16
H1 = —Å–ª—É—á–∞–π–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω ~100-500M
H2 = —Å–ª—É—á–∞–π–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω ~100-500M
H3 = —Å–ª—É—á–∞–π–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω ~100-500M
H4 = —Å–ª—É—á–∞–π–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω ~100-500M
I1 = –ø—É—Å—Ç–æ–π
```

### –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Ä–µ–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥)

```ini
Jc = 6           (+1)
Jmin = 10        (+1)
Jmax = 50        (+3)
S1 = 64          (+55!)
S2 = 67          (-61!)
S3 = 17          (+12)
S4 = 4           (-12)
H1 = 221138202-537563446      (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω)
H2 = 1824677785-1918284606    (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω)
H3 = 2058490965-2098228430    (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω)
H4 = 2114920036-2134209753    (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω)
I1 = DNS –ø–∞–∫–µ—Ç tickets.widget.kinopoisk.ru
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

–û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–µ—Ñ–æ–ª—Ç—ã –≤ `config.js`:
```javascript
JC = 6
JMIN = 10
JMAX = 50
S1 = 64
S2 = 67
S3 = 17
S4 = 4
```

### 2. DNS preset –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω

I1 —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç DNS –ø–∞–∫–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ª—É—á—à–µ–π –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏.

### 3. H –¥–∏–∞–ø–∞–∑–æ–Ω—ã

–ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞ –≤–º–µ—Å—Ç–æ —Å–ª—É—á–∞–π–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- –≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –£—Å–ø–µ—à–Ω–æ –æ–±—Ö–æ–¥—è—Ç DPI –≤ –†–æ—Å—Å–∏–∏
- DNS –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

### DNS packet analysis

–ü–∞–∫–µ—Ç I1 –∏–º–∏—Ç–∏—Ä—É–µ—Ç:
- –õ–µ–≥–∏—Ç–∏–º–Ω—ã–π DNS –∑–∞–ø—Ä–æ—Å
- –ö –ø–æ–ø—É–ª—è—Ä–Ω–æ–º—É —Ä–æ—Å—Å–∏–π—Å–∫–æ–º—É —Å–µ—Ä–≤–∏—Å—É
- Type A record (IPv4)
- –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ (~200 –±–∞–π—Ç)

---

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### –û–±–Ω–æ–≤–ª–µ–Ω–æ:

1. **src/config.js**
   - Jc: 5 ‚Üí 6
   - Jmin: 9 ‚Üí 10
   - Jmax: 47 ‚Üí 50
   - S1: 9 ‚Üí 64
   - S2: 128 ‚Üí 67
   - S3: 5 ‚Üí 17
   - S4: 16 ‚Üí 4
   - I1: '' ‚Üí DNS –ø–∞–∫–µ—Ç

2. **docker-compose.yml**
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
   - I1 —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω —Å DNS –ø–∞–∫–µ—Ç–æ–º

3. **run.sh**
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã docker run
   - I1 –≤–∫–ª—é—á–µ–Ω —Å DNS –ø–∞–∫–µ—Ç–æ–º

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å AWG-Easy 2.0 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**:

- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è S1-S4 –∏–∑ –∂–∏–≤–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
- ‚úÖ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ H –¥–∏–∞–ø–∞–∑–æ–Ω—ã –≤–º–µ—Å—Ç–æ —Å–ª—É—á–∞–π–Ω—ã—Ö
- ‚úÖ DNS –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (I1)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Jc/Jmin/Jmax

–ö–ª–∏–µ–Ω—Ç—ã –±—É–¥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, **–∏–¥–µ–Ω—Ç–∏—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–π –≤ production**.
